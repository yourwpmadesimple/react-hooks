## Notes

So far we've fetched data with useEffect, and we've also loaded some state data with useContext. In this video, we're going to take a look at how to fetch data with a custom hook. So let's kind of think about the process of fetching data. If we go back to our index file and we get rid of some of this context stuff, what we're really trying to do is handle one of three states. So if the data isn't available yet, but is loading. We have a state for if we get the data, and we have a state for if there's an error. So since all of these states exist with the request, we can wrap this inside of a hook. Let's create a new file called useFetch. So useFetch is going to handle all of these different states. We first need to import useState and useEffect from React. And then this function is going to be exported. useFetch will take in a URI of some sort of API that we want to fetch from. And then again, we need to handle these different states, data and setData, and the initial state will just be null. We also want to handle loading and setLoading, and then we want to handle error and setError. Now, once we have created these state variables, what we want to do is call useEffect. Remember this is going to help us fetch that data. So now we can say, if there's not a URI, then we want to just return, so jump out of the function. If we do have one let's fetch from that URI. We'll call then and we'll take the data and we'll parse it as JSON. And then we'll call setData. We also want to call setLoading and then send it false. So actually the initial state for loading should really be true. When our component first renders, the data is loading. Then when we fetch the data, it's going to be false. Now I need to make sure that semi-colon is not there. Every time I hit save, it adds one, so make sure that those don't mess us up. And then finally, we'll add a catch here. So if something goes wrong, we want to set the error. So we only want our useEffect to be called when there's a new URI or on the first page load. So finally, we want to return loading data and error. So with this function scaffolded, we can now use it in any component,
